const star=[],star_x=[],star_y=[],star_remaining_ticks=[],tiny=[],tiny_x=[],tiny_y=[],tiny_remaining_ticks=[],sparkles=7,sparkle_lifetime=30,sparkle_distance=1e4,star_size=10,star_colors=["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFDDD"];let doc_height,doc_width,sparkles_enabled=null,star_opacity=.9,glow_enabled=!0;function sparkle(t=null){(sparkles_enabled=null===t?!sparkles_enabled:!!t)&&star.length<7&&sparkle_init()}function sparkle_destroy(){let t;for(;tiny.length;)(t=tiny.pop())&&document.body.removeChild(t);for(;star.length;)(t=star.pop())&&document.body.removeChild(t)}function sparkle_init(){for(let t=0;t<7;t++){let e=document.createElement("div");e.style.position="absolute",e.style.height="3px",e.style.width="3px",e.style.overflow="hidden",e.style.visibility="hidden",e.style.zIndex="999",e.style.borderRadius="50%",tiny[t]&&document.body.removeChild(tiny[t]),document.body.appendChild(e),tiny[t]=e,tiny_remaining_ticks[t]=null;let i=document.createElement("div");i.style.position="absolute",i.style.height="10px",i.style.width="10px",i.style.overflow="visible",i.style.visibility="hidden",i.style.zIndex="999";let s="http://www.w3.org/2000/svg",n=document.createElementNS(s,"svg");n.setAttribute("height","10px"),n.setAttribute("width","10px"),n.setAttribute("viewBox","0 0 511.45 511.45"),n.style.overflow="visible";let r=document.createElementNS(s,"path");r.setAttribute("d","M502.842,225.679c14.769-14.769,6.892-40.369-13.785-43.323l-119.138-17.723 c-7.877-0.985-15.754-6.892-18.708-13.785L298.042,42.54c-8.862-18.708-36.431-18.708-45.292,0L199.58,150.848 c-3.938,7.877-10.831,12.8-18.708,13.785L60.749,182.356c-20.677,2.954-29.538,28.554-13.785,43.323l85.662,83.692 c5.908,5.908,8.862,13.785,6.892,22.646l-20.677,118.154c-1.969,14.769,6.892,26.585,19.692,29.538 c0.985-2.954,2.954-5.908,6.892-6.892c41.354-9.846,73.846-35.446,107.323-61.046c6.892-5.908,13.785,0.985,14.769,7.877 c5.908-1.969,12.8-0.985,18.708,1.969l106.338,56.123c18.708,9.846,40.369-5.908,36.431-26.585l-20.677-118.154 c-0.985-7.877,0.985-16.738,6.892-22.646L502.842,225.679z"),n.appendChild(r),i.appendChild(n),star[t]&&document.body.removeChild(star[t]),document.body.appendChild(i),star[t]=i,star_remaining_ticks[t]=null}window.addEventListener("resize",function(){for(let t=0;t<7;t++)star_remaining_ticks[t]=null,star[t].style.left="0px",star[t].style.top="0px",star[t].style.visibility="hidden",tiny_remaining_ticks[t]=null,tiny[t].style.top="0px",tiny[t].style.left="0px",tiny[t].style.visibility="hidden";doc_height=document.documentElement.scrollHeight,doc_width=document.documentElement.scrollWidth}),document.onmousemove=function(t){if(sparkles_enabled&&!t.buttons){let e=Math.sqrt(Math.pow(t.movementX,2)+Math.pow(t.movementY,2)),i=2e4*t.movementX/e,s=2e4*t.movementY/e,n=e/1e4,r=0,l=t.pageY,a=t.pageX;if(e>5)for(let y=0;y<3;y++){let o=(Math.random()-.5)*20,$=(Math.random()-.5)*20;create_star(a+o,l+$,.7)}for(;Math.abs(r)<Math.abs(t.movementX);){create_star(a,l,n);let d=Math.random();a-=i*d,l-=s*d,r+=i*d}}},setInterval(function(){if(sparkles_enabled){let t=Math.random()*doc_width,e=Math.random()*doc_height;create_star(t,e,.3)}},500)}function animate_sparkles(t=60){let e=0;for(let i=0;i<star.length;i++)e+=update_star(i);for(let s=0;s<tiny.length;s++)e+=update_tiny(s);0!==e||sparkles_enabled||sparkle_destroy(),setTimeout("animate_sparkles("+t+")",1e3/t)}function create_star(t,e,i=1){if(t+10>=doc_width||e+10>=doc_height||Math.random()>i)return;let s=61,n=NaN;for(let r=0;r<7;r++)if(star_remaining_ticks[r])star_remaining_ticks[r]<s&&(s=star_remaining_ticks[r],n=r);else{s=null,n=r;break}if(s&&star_to_tiny(n),n>=0){star_remaining_ticks[n]=60,star_x[n]=t,star[n].style.left=t+"px",star_y[n]=e,star[n].style.top=e+"px",star[n].firstChild.style.transform=`scale(${.5+.5*Math.random()})`;let l=function t(){let e=star_colors[Math.floor(Math.random()*star_colors.length)];return e}(),a=star[n].querySelector("path");return a.setAttribute("fill",l),glow_enabled&&(star[n].style.filter=`drop-shadow(0 0 3px ${l})`),star[n].style.animation=`twinkle ${1+Math.random()}s infinite alternate`,star[n].style.opacity=star_opacity,star[n].style.visibility="visible",star[n].style.transform=`rotate(${360*Math.random()}deg)`,n}}function update_star(t){if(null===star_remaining_ticks[t])return!1;if(star_remaining_ticks[t]-=1,0===star_remaining_ticks[t])return star_to_tiny(t),!1;if(30===star_remaining_ticks[t]&&(star[t].style.opacity=.7*star_opacity),star_remaining_ticks[t]%5==0&&(star[t].style.opacity=star_opacity*(.7+.3*Math.random())),star_remaining_ticks[t]>0){star_y[t]+=.5+Math.random(),star_x[t]+=(t%5-2)/6;let e=parseFloat(star[t].style.transform.replace("rotate(","").replace("deg)","")||0);if(star[t].style.transform=`rotate(${e+(Math.random()-.5)*2}deg)`,star_y[t]+10<doc_height&&star_x[t]+10<doc_width)return star[t].style.top=star_y[t]+"px",star[t].style.left=star_x[t]+"px",!0}return star_remaining_ticks[t]=null,star[t].style.left="0px",star[t].style.top="0px",star[t].style.visibility="hidden",!1}function star_to_tiny(t){if(null===star_remaining_ticks[t])return;let e=star[t].querySelector("path"),i=e?e.getAttribute("fill"):"#FFFFFF";star_y[t]+5<doc_height&&star_x[t]+5<doc_width&&(tiny_remaining_ticks[t]=60,tiny_y[t]=star_y[t]+5,tiny[t].style.top=tiny_y[t]+"px",tiny_x[t]=star_x[t]+5,tiny[t].style.left=tiny_x[t]+"px",tiny[t].style.width="2px",tiny[t].style.height="2px",tiny[t].style.backgroundColor=i,glow_enabled&&(tiny[t].style.boxShadow=`0 0 3px ${i}`),tiny[t].style.opacity=.8*star_opacity,star[t].style.visibility="hidden",tiny[t].style.visibility="visible"),star_remaining_ticks[t]=null,star[t].style.left="0px",star[t].style.top="0px",star[t].style.visibility="hidden"}function update_tiny(t){return null!==tiny_remaining_ticks[t]&&((tiny_remaining_ticks[t]-=1,30===tiny_remaining_ticks[t]&&(tiny[t].style.width="1px",tiny[t].style.height="1px",tiny[t].style.opacity=.5*star_opacity),tiny_remaining_ticks[t]>0&&(tiny_y[t]+=.7+Math.random(),tiny_x[t]+=(t%4-2)/5,tiny_y[t]+3<doc_height&&tiny_x[t]+3<doc_width))?(tiny[t].style.top=tiny_y[t]+"px",tiny[t].style.left=tiny_x[t]+"px",!0):(tiny_remaining_ticks[t]=null,tiny[t].style.top="0px",tiny[t].style.left="0px",tiny[t].style.visibility="hidden",!1))}window.onload=function(){doc_height=document.documentElement.scrollHeight,doc_width=document.documentElement.scrollWidth,animate_sparkles(),null===sparkles_enabled&&sparkle(!0)};const style=document.createElement("style");style.type="text/css",style.innerHTML=`
@keyframes twinkle {
    0% { opacity: ${star_opacity}; }
    50% { opacity: ${.4*star_opacity}; }
    100% { opacity: ${star_opacity}; }
}
`,document.getElementsByTagName("head")[0].appendChild(style);
